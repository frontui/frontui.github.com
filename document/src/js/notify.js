/*! 
*  frontui v1.0.2
*  by frontpay FE Team
*  (c) 5/17/2016 www.frontpay.cn
*  Licensed under Apache License
*/
"use strict";function Plugin(t){return $(this).on("click",function(){t="string"==typeof t?{message:t}:t;var s=new Notify(t);s.show()})}var containers={},messages={},notify=function(t){return"string"==typeof t&&(t={message:t}),arguments[1]&&(t=$.extend(t,"string"==typeof arguments[1]?{status:arguments[1]}:arguments[1])),new Notify(t).show()},closeAll=function(t,s){var i;if(t)for(i in messages)t===messages[i].group&&messages[i].close(s);else for(i in messages)messages[i].close(s)},Notify=function(t){this.timeout=!1,this.currentStatus="",this.group=!1,this.options=$.extend({},Notify.DEFAULTS,t),this.uuid="Notify_"+Math.random().toString(36).substr(2),this.$el=$(['<div class="notify-message">','<a class="notify-close">&times;</a>',"<div></div>","</div>"].join("")).data("ui.notify",this),this.content(this.options.message),this.options.status&&(this.$el.addClass("notify-message-"+this.options.status),this.currentStatus=this.options.status),this.group=this.options.group,messages[this.uuid]=this,containers[this.options.pos]||(containers[this.options.pos]=$('<div class="notify notify-'+this.options.pos+'"></div>').appendTo($("body")).on("click",".notify-message",function(){var t=$(this).data("ui.notify");t.$el.trigger("manualclose.ui.notify",[t]),t.close()}))};Notify.VERSION="1.0.0",Notify.DEFAULTS={message:"",status:"",opacity:.85,timeout:5e3,group:null,pos:"top-center",onClose:function(){}},Notify.prototype.show=function(){if(!this.$el.is(":visible")){var t=this;containers[this.options.pos].show().prepend(this.$el);var s=parseInt(this.$el.css("margin-bottom"),10);return this.$el.css({opacity:0,"margin-top":-1*this.$el.outerHeight(),"margin-bottom":0}).animate({opacity:this.options.opacity,"margin-top":0,"margin-bottom":s},function(){if(t.options.timeout){var s=function(){t.close()};t.timeout=setTimeout(s,t.options.timeout),t.$el.hover(function(){clearTimeout(t.timeout)},function(){t.timeout=setTimeout(s,t.options.timeout)})}}),this}},Notify.prototype.close=function(t){var s=this,i=function(){s.$el.remove(),containers[s.options.pos].children().length||containers[s.options.pos].hide(),s.options.onClose.apply(s,[]),s.$el.trigger("close.ui.notify",[s]),delete messages[s.uuid]};this.timeout&&clearTimeout(this.timeout),t?i():this.$el.animate({opacity:0,"margin-top":-1*this.$el.outerHeight(),"margin-bottom":0},function(){i()})},Notify.prototype.content=function(t){var s=this.$el.find(">div");return t?(s.html(t),this):s.html()},Notify.prototype.status=function(t){return t?(this.$el.removeClass("nofity-message-"+this.currentStatus).addClass("notify-message-"+t),this.currentStatus=t,this):this.currentStatus},$.notify=notify,$.notify.closeAll=closeAll,$.fn.notify=Plugin,$.fn.notify.Constructor=Notify;