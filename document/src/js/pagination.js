/*! 
*  frontui v1.0.2
*  by frontpay FE Team
*  (c) 5/17/2016 www.frontpay.cn
*  Licensed under Apache License
*/
"use strict";function Plugin(t){var e=arguments;return $(this).each(function(){var i=$(this);if(!i.hasClass("no-js")){var a=i.data("ui.pagination");a||i.data("ui.pagination",a=new Pagination(i,$.extend({},i.data(),t))),"string"==typeof t&&a[t].apply(a,[].slice.call(e,1))}})}var active="active",pageStr='<p class="pull-left fs-12 lh-26">\u5171{$pages}\u9875\uff0c{$items}\u6761\u8bb0\u5f55\uff0c\u6bcf\u9875\u663e\u793a{$itemsOnPage}\u6761\u3002</p>',Pagination=function(t,e){this.$el=$(t),this._init(e)};Pagination.VERSION="1.0.0",Pagination.DEFAULTS={items:1,itemsOnPage:1,pages:0,displayedPages:8,edges:1,currentPage:0,pageStr:{show:!1,template:""},lblPrev:"\u4e0a\u4e00\u9875",lblNext:"\u4e0b\u4e00\u9875",onSelectPage:function(){}},Pagination.prototype._init=function(t,e){var i=this;this._setOption(t),i.itemsOnPage=this.options.itemsOnPage,i.items=this.options.items,i.current=this.options.currentPage,i.pages=i.options.pages?i.options.pages:Math.ceil(i.items/this.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.options.currentPage-1,i.halfDisplayed=i.options.displayedPages/2,i._render(),!e&&i.$el.on("click","a[data-page]",function(t){t.preventDefault(),i.selectPage($(this).data("page"))})},Pagination.prototype.init=function(t){this._init(t,!0)},Pagination.prototype._setOption=function(t){this.options=$.extend({},Pagination.DEFAULTS,t)},Pagination.prototype.selectPage=function(t,e){this.currentPage=t-1,this.current=t,this.render(e),this.options.onSelectPage(t,this),this.$el.trigger("select.ui.pagination",[t,this])},Pagination.prototype._render=function(){var t,e=this.options,i=this._getInterval();if(this.$el.empty().prevAll().remove(),!(this.pages<=1)){if(e.lblPrev&&this.currentPage-1>=0&&this._append(this.currentPage-1,{text:e.lblPrev},!0),i.start>0&&e.edges>0){var a=Math.min(e.edges,i.start);for(t=0;a>t;t++)this._append(t);e.edges<i.start&&i.start-e.edges!=1?this.$el.append("<li><span>...</span></li>"):i.start-e.edges==1&&this._append(e.edges)}for(t=i.start;t<i.end;t++)this._append(t);if(i.end<this.pages&&e.edges>0){this.pages-e.edges>i.end&&this.pages-e.edges-i.end!=1?this.$el.append("<li><span>...</span></li>"):this.pages-e.edges-i.end==1&&this._append(i.end++);var n=Math.max(this.pages-e.edges,i.end);for(t=n;t<this.pages;t++)this._append(t)}e.lblNext&&this.currentPage<this.pages-1&&this._append(this.currentPage+1,{text:e.lblNext},!0),this.renderPageStr()}},Pagination.prototype.renderPageStr=function(){if(this.options.pageStr&&this.options.pageStr.show){var t=this,e=t.$el.prevAll(),i=this.options.pageStr.template||pageStr;i=i.replace(/{\$(\w*)}/gi,function(e,i,a){return t[i]?t[i]:0}),e.length&&e.remove(),t.$el.before($(i))}},Pagination.prototype.render=function(t){this.pages=t?t:this.pages,this._render()},Pagination.prototype._getInterval=function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},Pagination.prototype._append=function(t,e,i){var a,n,s=this;t=0>t?0:t<this.pages?t:this.pages-1,n=$.extend({text:t+1},e),a=t==this.currentPage?"<li "+(i?"":'class="'+active+'"')+'><a href="javascript:void(0);">'+n.text+"</a></li>":'<li><a href="#page-'+(t+1)+'" data-page="'+(t+1)+'">'+n.text+"</a></li>",s.$el.append(a)},$.fn.pagination=Plugin,$.fn.pagination.Constructor=Pagination,$(function(){$("[ui-pagination],.pagination").pagination()});