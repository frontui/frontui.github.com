/*! 
*  frontui v1.0.2
*  by frontpay FE Team
*  (c) 4/11/2016 www.frontpay.cn
*  Licensed under Apache License
*/
!function(t,o){"function"==typeof define&&define.amd?define("ui/tooltips",["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):o(t.jQuery)}(this,function(t){"use strict";function o(o){return t(this).each(function(){var i=t(this),s=i.data("ui.tooltips");s||i.data("ui.tooltips",s=new e(this,o)),"string"==typeof o&&s[o]()})}var i='[data-toggle="tooltips"]',e=function(o,i){this.$el=t(o),this.options=t.extend({},e.DEFAULTS,this.$el.data(),i&&"object"==typeof i),this.$tooltip=null,this.content="",this.tooltipdelay=null,this.checkdelay=null,this.init()};e.VERSION="1.0.0",e.TRANSITION_DURATION=150,e.DEFAULTS={offset:9,pos:"top",animation:!0,delay:0,cls:"",active:"active",content:function(t,o){return o=t.attr("title"),o&&t.data("cached-title",o).removeAttr("title"),t.data("cached-title")}},e.prototype.init=function(){var o=this;o.$tooltip||(o.$tooltip=t('<div class="tooltips"><div class="tooltips-inner"></div><span class="tips-arrow-border"></span><span class="tips-arrow"></span></div>').appendTo("body")),o.$el.on({focus:function(){o.show()},blur:function(){o.hide()},mouseenter:function(){o.show()},mouseleave:function(){o.hide()}})},e.prototype.show=function(){if(this.content="function"==typeof this.options.content?this.options.content(this.$el):this.options.content,this.tooltipdelay&&clearTimeout(this.tooltipdelay),this.checkdelay&&clearTimeout(this.checkdelay),this.content.length){this.$tooltip.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.active).show(),this.$tooltip.find(".tooltips-inner").html(this.content);var o=this,i=t.extend({},this.$el.offset(),{width:this.$el[0].offsetWidth,height:this.$el[0].offsetHeight}),e=this.$tooltip[0].offsetWidth,s=this.$tooltip[0].offsetHeight,n="function"==typeof this.options.offset?this.options.offset.call(this.$el):this.options.offset,l="function"==typeof this.options.pos?this.options.pos.call(this.$el):this.options.pos,p=l.split("-"),h={display:"none",visibility:"visible",top:i.top+i.height+s,left:i.left},a={bottom:{top:i.top+i.height+n,left:i.left+i.width/2-e/2},top:{top:i.top-s-n,left:i.left+i.width/2-e/2},left:{top:i.top+i.height/2-s/2,left:i.left-e-n},right:{top:i.top+i.height/2-s/2,left:i.left+i.width+n}};t.extend(h,a[p[0]]),2==p.length&&(h.left="left"==p[1]?i.left:i.left+i.width-e);var c=this.checkBoundary(h.left,h.top,e,s);if(c){switch(c){case"x":l=2==p.length?p[0]+"-"+(h.left<0?"left":"right"):h.left<0?"right":"left";break;case"y":l=2==p.length?(h.top<0?"bottom":"top")+"-"+p[1]:h.top<0?"bottom":"top";break;case"xy":l=2==p.length?(h.top<0?"bottom":"top")+"-"+(h.left<0?"left":"right"):h.left<0?"right":"left"}p=l.split("-"),t.extend(h,a[p[0]]),2==p.length&&(h.left="left"==p[1]?i.left:i.left+i.width-e)}h.left-=t("body").position().left,this.tooltipdelay=setTimeout(function(){o.$tooltip.css(h).attr("class",["tooltips","tooltips-"+l,o.options.cls].join(" ")),o.options.animation?o.$tooltip.css({opacity:0,display:"block"}).addClass(o.options.active).animate({opacity:1},parseInt(o.options.animation,10)||400):o.$tooltip.show().addClass(o.options.active),o.tooltipdelay=!1,o.checkdelay=setInterval(function(){o.$el.is(":visible")||o.hide()},150)},parseInt(this.options.delay,10)||0)}},e.prototype.hide=function(){if(!this.$el.is("input")||this.$el[0]!==document.activeElement)if(this.tooltipdelay&&clearTimeout(this.tooltipdelay),this.checkdelay&&clearTimeout(this.checkdelay),this.$tooltip.stop(),this.options.animation){var t=this;this.$tooltip.fadeOut(parseInt(this.options.animation,10)||400,function(){t.$tooltip.removeClass(t.options.active)})}else this.$tooltip.hide().removeClass(this.options.active)},e.prototype.checkBoundary=function(o,i,e,s){var n="";return(0>o||o-t(document).scrollLeft()+e>t(window).width())&&(n+="x"),(0>i||i-t(document).scrollTop()+s>t(window).height())&&(n+="y"),n},t.fn.tooltips=o,t.fn.tooltips.Constructor=e;var s=function(){t(this).tooltips("show")};return t(function(){t(document).on("mouseover.tooltip.ui focus.tooltip.ui",function(o){var e=t(o.target);e.is(i)&&s.call(e)})}),e});